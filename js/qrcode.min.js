// Simple QR Code generator fallback
(function(global) {
    'use strict';
    
    function QRCode(element, options) {
        this.element = element;
        this.options = options || {};
        
        // Simple QR code implementation using a service
        this.makeCode(this.options.text || '');
    }
    
    QRCode.prototype.makeCode = function(text) {
        // Use qr-server.com API for QR code generation
        const size = this.options.width || 200;
        const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=${size}x${size}&data=${encodeURIComponent(text)}`;
        
        const img = document.createElement('img');
        img.src = qrUrl;
        img.style.width = size + 'px';
        img.style.height = size + 'px';
        img.style.border = 'none';
        img.alt = 'QR Code';
        
        // Clear existing content and add the QR code
        this.element.innerHTML = '';
        this.element.appendChild(img);
    };
    
    QRCode.CorrectLevel = {
        L: 0,
        M: 1,
        Q: 2,
        H: 3
    };
    
    // Export to global scope
    global.QRCode = QRCode;
    
})(window);
